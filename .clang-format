---
BasedOnStyle: LLVM
IndentWidth: 4
ContinuationIndentWidth: 4
ColumnLimit: 120
BreakBeforeBraces: Linux
AllowShortIfStatementsOnASingleLine: Never
AllowShortLoopsOnASingleLine: false
AllowShortBlocksOnASingleLine: Never
AllowShortCaseLabelsOnASingleLine: false
AllowShortFunctionsOnASingleLine: None
PointerAlignment: Right
SpaceBeforeParens: ControlStatements
BinPackArguments: false
BinPackParameters: false
AllowAllParametersOfDeclarationOnNextLine: false
Cpp11BracedListStyle: false

AlignConsecutiveMacros:
  Enabled: true
  AcrossEmptyLines: true
  AcrossComments: true

PenaltyBreakBeforeFirstCallParameter: 1000

SortIncludes: CaseSensitive
IncludeBlocks: Regroup
IncludeIsMainRegex: "$^"
IncludeIsMainSourceRegex: "$^"
MainIncludeChar: AngleBracket

IncludeCategories:
  # 1) C/C++ system headers first
  - Regex: '^<(assert|ctype|errno|float|inttypes|limits|locale|math|setjmp|signal|stdalign|stdarg|stdbool|stddef|stdint|stdio|stdlib|string|tgmath|threads|time|uchar|wchar|wctype)\.h>$'
    Priority: 1
    SortPriority: 1

  # 2) Public project headers (flat, no subdir)
  - Regex: '^<[^/]+\.h>$'
    Priority: 2
    SortPriority: 2

  # 3) Public esp-stub-lib API headers
  - Regex: '^<esp-stub-lib/.*>$'
    Priority: 3
    SortPriority: 3

  # 4) Target/module headers
  - Regex: '^<target/.*>$'
    Priority: 4
    SortPriority: 4

  # 5) Private/internal headers
  - Regex: '^<private/.*>$'
    Priority: 5
    SortPriority: 5

  # 6) Fallback
  - Regex: '^<.*>$'
    Priority: 6
    SortPriority: 6

  # 7) Internal headers (always last)
  - Regex: '^".*"$'
    Priority: 7
    SortPriority: 7
